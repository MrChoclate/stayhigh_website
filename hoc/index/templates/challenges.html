{% extends "base.html" %}
{% load staticfiles %}
{% load materializecss %}

{% block content %}
  <div id="index-banner" class="parallax-container challenges">
    <div class="section no-pad-bot">
      <div class="container">
        <br><br>
        <h1 class="header center white-text">Les challenges</h1>
        <div class="row center">
          <h5 class="header col s12 light">Proposer un challenge</h5>
        </div>
        <div class="row center">
          <a class="btn-floating btn-large waves-effect waves-light red" href="{% url 'challenge' %}"><i class="mdi-content-add"></i></a>
        </div>
        <br><br>

      </div>
    </div>
    <div class="parallax"><img src="{% static 'img/1.jpg' %}" alt="Unsplashed background img 2"></div>
  </div>


  <div class="container">
    <div class="section">

          <div class="row">
            <div class="col s12">
              <ul class="tabs z-depth-1">
                <li class="tab col s3"><a class="active" href="#valide">Validés </a></li>
                <li class="tab col s3"><a href="#rejete">Rejeté</a></li>
                <li class="tab col s3"><a href="#encours">En cours</a></li>
                <li class="tab col s3"><a href="#nonlu">Non lus</a></li>
              </ul>
            </div>


            <div id="valide" class="col s12">
                  <ul class="collection with-header">
                    <li class="collection-header"><h4 class="center-align">Défis Validés</h4></li>

                    {% for challenge in challenges %}
                    {% if challenge.type == 'V' %}
                    <li class="collection-item">{{challenge.content}} par {{challenge.first_name}} {{challenge.last_name}}</li>
                    {% endif %}
                    {% endfor %}
                  </ul>
            </div>




            <div id="rejete" class="col s12">
                  <ul class="collection with-header">
                  <li class="collection-header"><h4 class="center-align">Défis Rejetés</h4></li>

                  {% for challenge in challenges %}
                  {% if challenge.type == 'R' %}
                  <li class="collection-item">{{challenge.content}} par {{challenge.first_name}} {{challenge.last_name}}</li>
                  {% endif %}
                  {% endfor %}
                  </ul>
            </div>
            
            <div id="encours" class="col s12">
              <ul class="collection with-header">
                  <li class="collection-header"><h4 class="center-align">En cours</h4></li>

                  {% for challenge in challenges %}
                  {% if challenge.type == 'P' %}
                  <li class="collection-item">{{challenge.content}} par {{challenge.first_name}} {{challenge.last_name}}</li>
                  {% endif %}
                  {% endfor %}
              </ul>

            </div>

            <div id="nonlu" class="col s12">
              <ul class="collection with-header">
                  <li class="collection-header"><h4 class="center-align">Non lus</h4></li>

                  {% for challenge in challenges %}
                  {% if challenge.type == 'N' %}
                  <li class="collection-item">{{challenge.content}} par {{challenge.first_name}} {{challenge.last_name}}</li>
                  {% endif %}
                  {% endfor %}
              </ul>
            </div>
          </div>

    </div>
  </div>


{% endblock content %}


{% block script %}
<script type="text/javascript">
 $(document).ready(function(){
    $('ul.tabs').tabs();
  });
 </script>
{% endblock script %}

   